# 计算机网络相关问题

## 1.HTTP请求方法？GET和POST的区别？

HTTP（Hypertext Transfer Protocol）定义了一组不同的请求方法，也称为HTTP请求方法或HTTP动词，用于指定对服务器执行的操作。以下是一些常见的HTTP请求方法：

1. GET：用于请求指定资源，只从服务器获取数据，不对服务器上的资源进行任何更改。GET请求可以被缓存，可以被书签保存，以及被历史记录保存，通常用于获取数据。
2. POST：向服务器提交数据，用于向指定资源提交数据，数据被包含在请求体中。POST请求不会被缓存，不会保留在浏览器历史记录中，通常用于向服务器发送数据，如表单提交。
3. PUT：用于向服务器上传新的实体，取代指定资源的内容。
4. DELETE：删除指定的资源。
5. PATCH：对资源进行部分修改。
6. HEAD：类似于GET请求，但服务器只返回请求头信息，不返回实体主体内容。
7. OPTIONS：用于获取目标资源所支持的通信选项。
8. TRACE：回显服务器收到的请求，用于测试或诊断。

GET 和 POST 的区别：

1. POST相对GET来说更安全。由于HTTP协议是明文传输的，两者其实都不安全。GET请求参数直接挂载在URL上，可以被用户看见，而POST则放在请求体中；GET请求记录可以被保存在浏览器或web服务器日志中，而POST则不会。因此，相对来说POST请求更加安全一些。
2. GET请求可以缓存，POST不能缓存。
3. GET请求有长度限制，POST没有。GET请求本身没有长度限制，但是不同浏览器对URL有长度限制不同。
4. GET请求只能传输字符数据，POST可以传输多种类型的数据。GET请求是挂载在URL上的，所以传输的数据类型只能是字符串，但是POST请求可以传输除字符串以外的数据，比如：视频，声音，图片，文档等。
5. GET只发送一个数据包，POST可能会产生两个数据包。GET任何情况下都会一次性将请求头和请求体发送完成，POST**有些情况下**（取决于浏览器/发送方、版本）会先将请求头发送给服务器，确认服务器可以响应并且具备接收数据的能力，此时响应100，接着再发送请求体，如果服务器没有响应100那么就不会继续发送请求体。
7. 刷新和回退时GET请求无害，POST请求的数据会被重新提交。无害是指对数据的影响，GET请求一般用于获取数据，例如静态自愿获取等，页面刷新后可能会使用到缓存，而POST请求多数用于数据的修改，默认情况下可能每次执行都会影响服务端的数据，相比较来说GET比POST更加无害。

## 2.什么是HTTP持久连接（keep-alive）？ 它如何工作？

HTTP持久连接（HTTP Keep-Alive）是一种在单个TCP连接上可以发送和接收多个HTTP请求和响应的机制。在传统的HTTP/1.0协议中，每次请求都需要建立一个新的TCP连接，请求完成后立即关闭连接，这样会增加服务器和客户端之间建立和断开连接的开销。而HTTP/1.1协议默认支持持久连接，可以在同一个TCP连接上发送多个请求和响应，从而减少了连接建立和断开的开销，提高了性能和效率。

**工作原理**：

1. 建立连接：客户端向服务器发送一个HTTP请求，服务器接收到请求后不立即关闭连接，而是保持连接处于打开状态。

2. 发送多个请求：在保持连接的状态下，客户端可以继续发送其他HTTP请求，而无需重新建立新的TCP连接。

3. 接收多个响应：服务器在保持连接的状态下可以连续发送多个HTTP响应，每个响应对应一个请求。

4. 保持连接时间：HTTP持久连接可以在一定的时间内保持打开状态，超过一定时间或达到一定数量的请求后，连接可能会被关闭。

**优点**：

1. 减少延迟：避免了重复建立和关闭连接的开销，减少了请求和响应之间的延迟。

2. 减少资源消耗：减少了服务器和客户端资源的消耗，提高了系统的性能和效率。

3. 提高并发性：通过复用TCP连接，可以在同一时间内处理多个HTTP请求，提高了并发处理能力。

4. 改善用户体验：减少了页面加载时间，提高了网站的响应速度，改善了用户体验。

总的来说，**HTTP持久连接通过复用TCP连接，减少了连接建立和断开的开销，提高了性能和效率**，是一种提高网络通信效率的重要机制。

> 持久连接带来了“队头阻塞”问题：如果某个请求因为某种原因被阻塞，那么后续的请求也会被阻塞，从而导致页面加载速度下降。它在HTTP/2.0中得以解决。

## 3.常见的HTTP状态码分别代表什么意思？

**1XX消息状态码**：

- 100：Continue 继续。客户端应继续其请求。

- 101：Switching Protocols 切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到 HTTP 的新版本协议。

**2XX成功状态码**：

- 200：OK 请求成功。一般用于 GET 与 POST 请求。


- 201：Created 已创建。成功请求并创建了新的资源。


- 202：Accepted 已接受。已经接受请求，但未处理完成。


- 203：Non-Authoritative Information 非授权信息。请求成功。但返回的 meta 信息不在原始的服务器，而是一个副本。


- 204：No Content 无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档。


- 205：Reset Content 重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域。


- 206：Partial Content 部分内容。服务器成功处理了部分 GET 请求。

**3XX重定向状态码**：

- 300：Multiple Choices 多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择。

- 301：Moved Permanently 永久移动。请求的资源已被永久的移动到新 URI，返回信息会包括新的 URI，浏览器会自动定向到新 URI。今后任何新的请求都应使用新的 URI 代替。

- 302：Found 临时移动，与 301 类似。但资源只是临时被移动。客户端应继续使用原有URI。

- 303：See Other 查看其它地址。与 301 类似。使用 GET 和 POST 请求查看。

- 304：Not Modified 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源。

- 305：Use Proxy 使用代理。所请求的资源必须通过代理访问。

- 307：Temporary Redirect 临时重定向。与 302 类似,使用 GET 请求重定向。

**4XX客户端错误状态码**：

- 400：Bad Request 客户端请求的语法错误，服务器无法理解。

- 401：Unauthorized 请求要求用户的身份认证。

- 402：Payment Required 保留，将来使用。

- 403：Forbidden 服务器理解请求客户端的请求，但是拒绝执行此请求。

- 404：Not Found 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置"您所请求的资源无法找到"的个性页面。

- 405：Method Not Allowed 客户端请求中的方法被禁止。

- 406：Not Acceptable 服务器无法根据客户端请求的内容特性完成请求。

- 408：Request Time-out 服务器等待客户端发送的请求时间过长，超时。

**5XX服务端错误状态码**：

- 500：Internal Server Error 服务器内部错误，无法完成请求。

- 501：Not Implemented 服务器不支持请求的功能，无法完成请求。

- 502：Bad Gateway 作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应。

- 503：Service Unavailable 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中。

- 504：Gateway Time-out 充当网关或代理的服务器，未及时从远端服务器获取请求。

- 505：HTTP Version not supported 服务器不支持请求的HTTP协议的版本，无法完成处理。


## 4.HTTP1.0 HTTP1.1 HTTP2.0 之间的区别？

**HTTP/1.0**：

- 连接管理：每个请求/响应周期都需要创建新的TCP连接，因为 HTTP/1.0 默认不支持复用连接。
- 头部阻塞：在一个连接上只能进行一个请求，直到请求完成后，才能发送下一个请求。这意味着在一个请求的响应全部返回之前，后续的请求必须等待。
- 无状态：HTTP/1.0 默认是无状态的，每个请求/响应周期都是相互独立的。

**HTTP/1.1**：

- 持久连接：**默认开启**持久连接（keep-alive），允许多个请求/响应可以在一个TCP连接上复用，减少了TCP连接的建立和关闭次数。
- 管道化：允许在一个连接上同时发送多个请求，但是响应仍然要按照请求的发送顺序返回，解决了头部阻塞的问题。
- 主机头部：支持在头部中包含主机信息，一个服务器可以托管多个域名的网站。
- 缓存控制：引入更多缓存控制的头部，包括ETag、If-Modified-Since等，增加了缓存的效率。

**HTTP/2.0**：

- 多路复用：允许在一个连接上同时发送多个请求和响应，避免了头部阻塞，提高了性能。
- 头部压缩：HTTP/2.0 使用 HPACK 算法对头部进行压缩，减少了数据传输的开销。
- 服务器推送：服务器可以在客户端请求之前就主动向客户端推送资源。
- 优先级：允许客户端指定和优先级相关的资源请求，提高了网络资源利用率。

总的来说，HTTP/1.1 相对于 HTTP/1.0 做了一些重要的改进，引入了持久连接和管道化请求，性能有了明显的提升。而 HTTP/2.0 则进一步提高了性能，引入了多路复用、头部压缩等新特性，使得网络通信更加高效。

## 5.HTTP和HTTPS的区别？

- HTTPS = HTTP + TLS/SSL，是更加可靠安全的传输协议。

- HTTP默认端口是80，HTTPS默认端口是443。


## 6.HTTPS如何保证传输的安全性？

1. 加密传输： 通过使用TLS/SSL协议加密数据传输（对称加密和非对称加密的混合加密），这意味着在数据传输过程中，第三方无法轻易窃听、篡改或伪造数据。

2. 身份认证： HTTPS使用TLS/SSL证书进行服务器身份验证，确保数据发送到正确的服务器。

3. 数据完整性校验： HTTPS在通信过程中使用摘要函数（如HMAC）来验证数据的完整性，确保数据在传输过程中没有被篡改。

## 7.什么是CDN？基本的工作原理是怎么样的？使用CDN有哪些优劣？

CDN是内容分发网络（Content Delivery Network）的缩写，它是由分布在不同地理位置的服务器群组成的网络，旨在更快、更可靠地提供互联网内容。

工作原理： 将源站的资源缓存到位于全球各地的 CDN 节点上，用户请求资源时，就近返回节点上缓存的资源，而不需要每个用户的请求都回您的源站获取，避免网络拥塞、缓解源站压力，保证用户访问资源的速度和体验。

**使用CDN的优点**包括：

1. 加速页面加载速度：通过将内容提供给用户最近的节点，减少了网络延迟，从而加速了页面加载速度。
2. 减轻源服务器负载：CDN可以减少源服务器的负载，提高了网站的整体稳定性。
3. 增强安全性：一些CDN提供了安全防护功能，能够缓解分布式拒绝服务（DDoS）攻击等威胁。

**使用CDN的劣势**可能包括：

1. 成本：使用CDN可能会增加运营成本，尤其是针对小型网站或流量较低的情况。
2. 配置复杂性：配置CDN可能需要一定的技术和时间投入，对于非技术人员来说可能显得复杂。
3. 隐私和安全风险：CDN节点托管的内容可能会面临一些隐私和安全风险，因此需要仔细选择信誉良好的CDN服务商。

## 8.什么是DNS？有什么用？解析过程是怎么样？

DNS（Domain Name System，域名系统）是互联网中用于将域名（如example.com）转换为对应IP地址的分布式命名系统。它充当了互联网的"电话簿"，将易于记忆的域名映射到计算机能够理解的IP地址。

DNS的主要用途包括：

1. 名解析：将用户输入的域名转换为对应的IP地址，以便建立与服务器的通信连接。

2. 负载均衡：DNS可以通过返回多个IP地址，将请求分发到不同的服务器上，以实现负载均衡，提高网站的性能和可靠性。

3. 故障转移：当某个服务器不可用时，DNS可以将请求重定向到备用服务器，实现故障转移，确保服务的连续性。

4. 反向解析：将IP地址转换为对应的域名，用于确定访问者的来源。

DNS解析过程一般包括以下步骤：

1. 本地解析器查询：用户的计算机首先向本地解析器（通常是ISP提供的DNS服务器）发送域名查询请求。

2. 递归查询：如果本地解析器没有缓存该域名的IP地址，它将从根域名服务器开始递归查询。根域名服务器指导本地解析器到达顶级域名服务器。

3. 迭代查询：顶级域名服务器返回指向下一级域名服务器的信息，本地解析器继续向下一级域名服务器发起查询请求。

4. 最终解析：本地解析器最终获得目标域名的IP地址，并将其返回给用户的计算机。

简单来讲： 本地DNS服务器查询 -> 根域名服务器查询 -> 顶级域名服务器查询 -> 目标域名服务器查询

## 9.TCP和UDP的区别？它们各自应用的场景？

TCP和UDP都是网络传输协议，属于OIS七层模型或者TCP/IP模型中的传输层。

区别： 

1. TCP是面向数据报的协议，而UDP是面向字节流的协议。

2. TCP提供可靠的数据传输，通过序号、确认和重传机制来确保数据的完整性和可靠性，如果数据丢失或损坏，TCP会重新发送。而UDP不保证可靠性，它只是简单地把数据包发送出去，不关心数据是否被接收，也不会重传丢失的数据包。

3. TCP有连接，通信双方在数据传输之前需要建立连接，然后进行数据传输，最后释放连接。UDP无连接，通信双方之间不需要建立持久的连接，可以直接发送数据包。

4. TCP传输效率较低，UDP传输效率较高。

应用场景：

TPC: 常用于需要可靠数据传输和顺序传送的应用，如网页浏览、文件下载、电子邮件传输等。

UDP: 常用于实时性要求较高、数据量较小且能够容忍丢包的应用，如实时音视频传输、在线游戏等。

## 10.描述TCP的三次握手和四次挥手？为什么断开连接是四次挥手？

## 11.TCP如何保证传输的可靠性？

## 12.TCP的拥塞控制机制是怎么样的？

## 13.Websocket协议的特点是什么？

## 14.描述Websocket的握手过程？

## 15.Websocket如何处理心跳和断线重连？

## 16.Websocket和长轮询、短轮询有什么区别？